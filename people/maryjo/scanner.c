#include "grint.tab.h"

#define MAXRW 115
#define MAXRWLEN 21

char rwnames[MAXRW][MAXRWLEN] = {
  "DO",
  "IF",
  "UP",
  "RED",
  "IOR",
  "SKY",
  "FOG",
  "IFF",
  "ALL",
  "GIF",
  "END",
  "SIN",
  "COS",
  "TAN",
  "ABS",
  "BOZO",
  "WOOD",
  "ONCE",
  "DUMP",
  "THEN",
  "REAL",
  "ELSE",
  "ASIN",
  "ACOS",
  "ATAN",
  "HRES",
  "VRES",
  "BLUE",
  "GREEN",
  "SCALE",
  "COLOR",
  "PLANE",
  "RIGHT",
  "ALPHA",
  "UNION",
  "PHONG",
  "WHILE",
  "WAVES",
  "PHASE",
  "DENTS",
  "BUMPS",
  "TILE2",
  "AGATE",
  "ZDIST",
  "MARBLE",
  "SPHERE",
  "ROTATE",
  "OBJECT",
  "DIFFUSE",
  "AMBIENT",
  "QUADRIC",
  "TEXTURE",
  "INCLUDE",
  "DECLARE",
  "LOOK_AT",
  "QUARTIC",
  "END_FOG",
  "INVERSE",
  "CAMZOOM",
  "INTEGER",
  "CHECKER",
  "GRANITE",
  "SPOTTED",
  "RIPPLES",
  "GRADIENT",
  "WRINKLES",
  "IMAGEMAP",
  "SCENEDEF",
  "END_TIME",
  "RAYDEPTH",
  "METALLIC",
  "SPECULAR",
  "TRIANGLE",
  "LOCATION",
  "VIEWPOINT",
  "END_PLANE",
  "DIRECTION",
  "TRANSLATE",
  "PHONGSIZE",
  "END_BOUND",
  "END_UNION",
  "ROUGHNESS",
  "COLOR_MAP",
  "COMPOSITE",
  "FREQUENCY",
  "STEP_TIME",
  "START_TIME",
  "REFRACTION",
  "REFLECTION",
  "END_SPHERE",
  "END_OBJECT",
  "BOUNDED_BY",
  "DIFFERENCE",
  "TURBULENCE",
  "BRILLIANCE",
  "END_QUADRIC",
  "END_QUARTIC",
  "END_INVERSE",
  "END_TEXTURE",
  "ASPECTRATIO",
  "VERBOSEMODE",
  "ANTIALIASING",
  "END_SCENEDEF",
  "END_TRIANGLE",
  "INTERSECTION",
  "LIGHT_SOURCE",
  "END_COMPOSITE",
  "END_VIEWPOINT",
  "END_COLOR_MAP",
  "END_DIFFERENCE",
  "SMOOTH_TRIANGLE",
  "END_INTERSECTION",
  "CHECKER_TEXTURE1",
  "END_CHECKER_TEXTURE",
  "END_SMOOTH_TRIANGLE"
};

int rwtokens[MAXRW] = {
  DO1,
  IF1,
  UP1,
  RED1,
  IOR1,
  SKY1,
  FOG1,
  IFF1,
  ALL1,
  GIF1,
  END1,
  SIN1,
  COS1,
  TAN1,
  ABS1,
  BOZO1,
  WOOD1,
  ONCE1,
  DUMP1,
  THEN1,
  REAL1,
  ELSE1,
  ASIN1,
  ACOS1,
  ATAN1,
  HRES1,
  VRES1,
  BLUE1,
  GREEN1,
  SCALE1,
  COLOR1,
  PLANE1,
  RIGHT1,
  ALPHA1,
  UNION1,
  PHONG1,
  WHILE1,
  WAVES1,
  PHASE1,
  DENTS1,
  BUMPS1,
  TILE21,
  AGATE1,
  ZDIST1,
  MARBLE1,
  SPHERE1,
  ROTATE1,
  OBJECT1,
  DIFFUSE1,
  AMBIENT1,
  QUADRIC1,
  TEXTURE1,
  INCLUDE1,
  DECLARE1,
  LOOKAT1,
  QUARTIC1,
  ENDFOG1,
  INVERSE1,
  CAMZOOM1,
  INTEGER1,
  CHECKER1,
  GRANITE1,
  SPOTTED1,
  RIPPLES1,
  GRADIENT1,
  WRINKLES1,
  IMAGEMAP1,
  SCENEDEF1,
  ENDTIME1,
  RAYDEPTH1,
  METALLIC1,
  SPECULAR1,
  TRIANGLE1,
  LOCATION1,
  VIEWPOINT1,
  ENDPLANE1,
  DIRECTION1,
  TRANSLATE1,
  PHONGSIZE1,
  ENDBOUND1,
  ENDUNION1,
  ROUGHNESS1,
  COLORMAP1,
  COMPOSITE1,
  FREQUENCY1,
  STEPTIME1,
  STARTTIME1,
  REFRACTION1,
  REFLECTION1,
  ENDSPHERE1,
  ENDOBJECT1,
  BOUNDEDBY1,
  DIFFERENCE1,
  TURBULENCE1,
  BRILLIANCE1,
  ENDQUADRIC1,
  ENDQUARTIC1,
  ENDINVERSE1,
  ENDTEXTURE1,
  ASPECTRATIO1,
  VERBOSEMODE1,
  ANTIALIASING1,
  ENDSCENEDEF1,
  ENDTRIANGLE1,
  INTERSECTION1,
  LIGHTSOURCE1,
  ENDCOMPOSITE1,
  ENDVIEWPOINT1,
  ENDCOLORMAP1,
  ENDDIFFERENCE1,
  CHECKERTEXTURE1,
  SMOOTHTRIANGLE1,
  ENDINTERSECTION1,
  ENDCHECKERTEXTURE1,
  ENDSMOOTHTRIANGLE1
};

int rwidxtab [21] = { 0, 0, 0, 3, 15, 28, 44, 48, 64, 74, 86, 95, 101,
  106, 109, 110, 111, 0, 0, 113, 114 };

int check_reserved (char *name)
{
  int length;
  int i, j;

  length = strlen (name);
  if (length > MAXRWLEN) {
    return NAME1;
  } else {
    for (i = rwidxtab[length], j = rwidxtab[length+1];
      (i < j) && (strcmp (rwnames[i], name) != 0); i++) {}
    if (i == j) {
      return NAME1;
    } else {
      return (rwtokens[i]);
    }
  }
}
